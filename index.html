<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>
	<div id="app"></div>
	<script src="./core/core.js"></script>
	<script>
		var ElButton = (function(_Cvtsp) {
			Cvtsp.inherits(ElButton, _Cvtsp);
			ElButton.defaultProps = {
				title: 'hello world',
				height: 200
			}
			function ElButton(el) {
				var _this = Cvtsp.possibleConstructorReturn(this, _Cvtsp.call(this));
				_this.parent = el;
				_this.data = {
					plateCode: '皖A3301'
				}
				_this.init();
			}

			ElButton.prototype.template = function() {
				return `
					<button @click="handlerClick">{{title}}</button>
				`
			}

			ElButton.prototype.handlerClick = function() {
				this.emit('node-click');
			}

			return ElButton;
		})(Cvtsp);
		Cvtsp.registerComponent('ElButton', ElButton);

		// 入口组件
		var App = (function(_Cvtsp) {
			Cvtsp.inherits(App, _Cvtsp);
			function App(el) {
				var _this = Cvtsp.possibleConstructorReturn(this, _Cvtsp.call(this));
				this.parent = el;

				this.data = {
					name: 'wukangjun',
					age: 18,
					height: 180
				}
				
				this.init();
			}

			App.prototype.template = function() {
				return `
					<div :class="aa" @click="haha">{{name}}</div>
					<ElButton :title="height" @node-click="aa"></ElButton>
				`
			}

			App.prototype.haha = function(event) {
				this.height = (this.height  + 1);
				console.log('来对了')
			}

			App.prototype.aa = function() {
				this.haha();
			}
			return App;
		})(Cvtsp);
		Cvtsp.registerComponent('App', App);

		// 一切从这开始 1. 
		Cvtsp.render('<App />', document.getElementById('app'));
	</script>
</body>
</html>